{"version":3,"sources":["contexts/UserContext.js","components/ImageCrop/utils/cropImage.js","components/ImageCrop/components/snackbar/snackbar.jsx","components/ImageCrop/utils/dataURLtoFile.js","components/ImageCrop/components/cropper/cropper.jsx","components/ImageCrop/App.jsx","components/ImageCrop/components/backdrop/backdrop.jsx","components/create-post/CreatePost.js","components/navbar/Navbar.js","components/leftSideBar/LeftSideBar.js","components/rightSideBar/RightSideBar.js","components/home/Home.js","components/signIn/SignIn.js","components/signUp/SignUp.js","components/profile/Profile.js","components/otherProfile/OtherProfile.js","components/Change/ChangeProfilePic.js","components/ImageCrop/components/cropper/cropper-cover.jsx","components/ImageCrop/App -cover.jsx","components/Change/ChangeCoverPic.js","components/settings/components/ChangePass.js","components/settings/components/ChangeName.js","components/settings/components/DeleteAccount.js","components/settings/Settings.js","components/forgotPassword/ForgotPass.js","components/forgotPassword/ResetPassword.js","components/Errors/FourOFourError.js","components/Errors/FIVEOO.js","reducers/UserReducer.js","App.js","index.js"],"names":["UserContext","createContext","createImage","url","Promise","resolve","reject","image","Image","addEventListener","error","setAttribute","src","getRadianAngle","degreeValue","Math","PI","getCroppedImg","imageSrc","pixelCrop","a","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","width","height","safeArea","sqrt","translate","rotate","drawImage","data","getImageData","putImageData","x","y","Alert","props","elevation","variant","useStyles","makeStyles","theme","root","marginTop","spacing","SnackbarContext","React","CustomizedSnackbars","children","classes","useState","open","severity","message","stateSnackbar","setStateSnackbar","handleClose","Provider","value","className","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","iconButton","position","top","right","cancelIcon","color","fontSize","RenderCropper","inputRef","useRef","triggerFileSelectPopup","current","click","setStateSnackbarContext","useContext","setImage","croppedArea","setCroppedArea","crop","setCrop","zoom","setZoom","onUpload","canvasDataUrl","toDataURL","convertedUrlToFile","sendFile","onClick","close","aspect","onCropChange","onZoomChange","onCropComplete","croppedAreaPercentage","croppedAreaPixels","Slider","min","step","onChange","e","accept","ref","event","target","files","reader","FileReader","readAsDataURL","result","style","display","onClear","App","file","selectedFile","closeModal","backdrop","zIndex","drawer","BackdropContext","SimpleBackdrop","setOpen","closeBackdrop","showBackdrop","Backdrop","CircularProgress","CreatePost","useHistory","title","setTitle","photo","setPhoto","setUrl","photoPrev","setPhotoPrev","uploadPhotoModal","setUploadPhotoModal","useEffect","FormData","append","fetch","method","body","then","res","json","console","log","catch","err","uploadPic","createPostHandler","headers","localStorage","getItem","JSON","stringify","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","window","location","reload","placeholder","Navbar","history","state","dispatch","isModal","setIsModal","foundUser","setFoundUser","search","setSearch","requests","setRequests","notificationOn","setNotificationOn","fetchposts2","_id","user","clear","push","to","query","found","map","each","index","profilePhoto","name","id","requesterId","followId","LeftSideBar","RIghtSideBar","Home","posts","setPosts","comment","setCommnent","isPostModal","setIsPostModal","modalpost","setModalPost","modalpostLiCom","setModalPostLiCom","modalpostLikes","setModalPostLikes","modalpostComments","setModalPostComments","scrollerDiv","commentField","modalCommentField","fetchPosts","liComInfo","postID","post","likeDisLikePost","what","newPosts","makeComment","text","postId","likeOrDislike","likes","includes","RightSideBar","postedBy","eachL","comments","eachC","test","newData","filter","SignIn","email","setEmail","password","setPassword","invalidLogin","setInvalidLogin","response","setItem","token","payload","SignUp","setName","emailOk","setEmailOk","passwordOk","setPassowrdOk","String","toLowerCase","Profile","userData","setUserData","showPhotos","setShowPhotos","showPosts","setshowPosts","showFollowers","setShowFollowers","showFollowing","setShowFollowing","following","setFollowing","followers","setFollowers","ProfilePicModal","setProfilePicModal","coverPicModal","setCoverPicModal","fetchposts","noPosts","coverPhoto","OtherProfile","userid","useParams","setRequested","requested","result2","ChangeProfilePic","newUrl","ChangeCoverPic","ChangePass","oldPass","setOldPass","newPass","setNewPass","confirmNewPass","setConfirmNewPass","oldpassError","setOldPassError","notify","success","passwordChecker","ChangeName","newName","setNewName","setError","updated","parse","DeleteAccount","agreed","setAgreed","checked","Settings","path","exact","component","ForgotPass","sucess","setSucess","notFoundError","setNotFoundError","ResetPassword","resetToken","tokenExp","setTokenExp","notify1","notify2","setInterval","FourOFourError","goBack","FIVEOO","reducer","action","Routing","pathname","startsWith","render","useReducer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.4a5b7849.chunk.js","sourcesContent":["import {createContext} from \"react\";\r\n\r\nexport const UserContext  = createContext(null);","/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} imageSrc - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\n\nconst createImage = (url) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst image = new Image();\n\t\timage.addEventListener(\"load\", () => resolve(image));\n\t\timage.addEventListener(\"error\", (error) => reject(error));\n\t\timage.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n\t\timage.src = url;\n\t});\n\nfunction getRadianAngle(degreeValue) {\n\treturn (degreeValue * Math.PI) / 180;\n}\n\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n\tconst image = await createImage(imageSrc);\n\tconst canvas = document.createElement(\"canvas\");\n\tconst ctx = canvas.getContext(\"2d\");\n\n\tconst maxSize = Math.max(image.width, image.height);\n\tconst safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n\t// set each dimensions to double largest dimension to allow for a safe area for the\n\t// image to rotate in without being clipped by canvas context\n\tcanvas.width = safeArea;\n\tcanvas.height = safeArea;\n\n\t// translate canvas context to a central location on image to allow rotating around the center.\n\tctx.translate(safeArea / 2, safeArea / 2);\n\tctx.rotate(getRadianAngle(rotation));\n\tctx.translate(-safeArea / 2, -safeArea / 2);\n\n\t// draw rotated image and store data.\n\tctx.drawImage(\n\t\timage,\n\t\tsafeArea / 2 - image.width * 0.5,\n\t\tsafeArea / 2 - image.height * 0.5\n\t);\n\n\tconst data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n\t// set canvas width to final desired crop size - this will clear existing context\n\tcanvas.width = pixelCrop.width;\n\tcanvas.height = pixelCrop.height;\n\n\t// paste generated rotate image with correct offsets for x,y crop values.\n\tctx.putImageData(\n\t\tdata,\n\t\t0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x,\n\t\t0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y\n\t);\n\n\t// As Base64 string\n\t// return canvas.toDataURL(\"image/jpeg\");\n\treturn canvas;\n}\n\nexport const generateDownload = async (imageSrc, crop) => {\n\tif (!crop || !imageSrc) {\n\t\treturn;\n\t}\n\n\tconst canvas = await getCroppedImg(imageSrc, crop);\n\n\tcanvas.toBlob(\n\t\t(blob) => {\n\t\t\tconst previewUrl = window.URL.createObjectURL(blob);\n\n\t\t\tconst anchor = document.createElement(\"a\");\n\t\t\tanchor.download = \"image.jpeg\";\n\t\t\tanchor.href = URL.createObjectURL(blob);\n\t\t\tanchor.click();\n\n\t\t\twindow.URL.revokeObjectURL(previewUrl);\n\t\t},\n\t\t\"image/jpeg\",\n\t\t0.66\n\t);\n};\n","import React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nfunction Alert(props) {\n\treturn <MuiAlert elevation={6} variant='filled' {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\t\"& > * + *\": {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n}));\n\nexport const SnackbarContext = React.createContext();\n\nexport default function CustomizedSnackbars({ children }) {\n\tconst classes = useStyles();\n\n\tconst [stateSnackbar, setStateSnackbar] = React.useState({\n\t\topen: false,\n\t\tseverity: \"\",\n\t\tmessage: \"\",\n\t});\n\n\tconst setStateSnackbarContext = (open, message, severity) =>\n\t\tsetStateSnackbar({ ...stateSnackbar, open, message, severity });\n\n\tconst handleClose = () => setStateSnackbar({ ...stateSnackbar, open: false });\n\n\tconst { open, severity, message } = stateSnackbar;\n\n\treturn (\n\t\t<SnackbarContext.Provider value={setStateSnackbarContext}>\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\t\t\topen={open}\n\t\t\t\t\tautoHideDuration={6000}\n\t\t\t\t\tonClose={handleClose}\n\t\t\t\t>\n\t\t\t\t\t<Alert onClose={handleClose} severity={severity}>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Snackbar>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</SnackbarContext.Provider>\n\t);\n}\n","// To convert dataUrl (which we get from our blob) to a a file object\nexport const dataURLtoFile = (dataurl, filename) => {\n\tconst arr = dataurl.split(\",\");\n\tconst mime = arr[0].match(/:(.*?);/)[1];\n\tconst bstr = atob(arr[1]);\n\tlet n = bstr.length;\n\tconst u8arr = new Uint8Array(n);\n\n\twhile (n--) u8arr[n] = bstr.charCodeAt(n);\n\n\treturn new File([u8arr], filename, { type: mime });\n};\n","import React from \"react\";\nimport \"./cropper.css\";\n\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\n\n\nimport getCroppedImg, { generateDownload } from \"../../utils/cropImage\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { SnackbarContext } from \"../snackbar/snackbar\";\nimport { dataURLtoFile } from \"../../utils/dataURLtoFile\";\n\nimport { MdClear } from 'react-icons/md';\nimport { CgBrowser } from 'react-icons/cg';\nimport { FiUpload } from 'react-icons/fi';\nimport { FaCamera } from 'react-icons/fa';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\n\n\n\n\n\nconst useStyles = makeStyles({\n\ticonButton: {\n\t\tposition: \"absolute\",\n\t\ttop: \"20px\",\n\t\tright: \"20px\",\n\t},\n\tcancelIcon: {\n\t\tcolor: \"#00a3c8\",\n\t\tfontSize: \"50px\",\n\t\t\"&:hover\": {\n\t\t\tcolor: \"red\",\n\t\t},\n\t},\n});\n\nexport default function RenderCropper(props) {\n\tconst classes = useStyles();\n\n\tconst inputRef = React.useRef();\n\n\tconst triggerFileSelectPopup = () => inputRef.current.click();\n\n\tconst setStateSnackbarContext = React.useContext(SnackbarContext);\n\n\tconst [image, setImage] = React.useState(null);\n\tconst [croppedArea, setCroppedArea] = React.useState(null);\n\tconst [crop, setCrop] = React.useState({ x: 0, y: 0 });\n\tconst [zoom, setZoom] = React.useState(1);\n\n\tconst onCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\n\t\tsetCroppedArea(croppedAreaPixels);\n\t};\n\n\tconst onSelectFile = (event) => {\n\t\tif (event.target.files && event.target.files.length > 0) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.readAsDataURL(event.target.files[0]);\n\t\t\treader.addEventListener(\"load\", () => {\n\t\t\t\tsetImage(reader.result);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tconst onClear = () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tsetImage(null);\n\t};\n\n\tconst onUpload = async () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tconst canvas = await getCroppedImg(image, croppedArea);\n\t\tconst canvasDataUrl = canvas.toDataURL(\"image/jpeg\");\n\t\tconst convertedUrlToFile = dataURLtoFile(\n\t\t\tcanvasDataUrl,\n\t\t\t\"cropped-image.jpeg\"\n\t\t);\n\t\tprops.sendFile(convertedUrlToFile)\n\t};\n\n\treturn (\n\t\t<div className=\"change-pic-container\">\n            \n\t\t\t<div className=\"change-pic-middle-container\">\n\t\t\t<div className=\"change-pic-heading\">\n\t\t\t\t<AiOutlineCloseCircle onClick={()=>{\n\t\t\t\t\tprops.close(`close`);\n\t\t\t\t}}/>\n\t\t\t</div>\n\t\t\t\t<div className='container-cropper-wrapper'>\n\n\n\t\t\t\t\t<div className='container-cropper'>\n\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='cropper'>\n\t\t\t\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tzoom={zoom}\n\t\t\t\t\t\t\t\t\t\taspect={1}\n\t\t\t\t\t\t\t\t\t\tonCropChange={setCrop}\n\t\t\t\t\t\t\t\t\t\tonZoomChange={setZoom}\n\t\t\t\t\t\t\t\t\t\tonCropComplete={onCropComplete}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='slider'>\n\t\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\tvalue={zoom}\n\t\t\t\t\t\t\t\t\t\tonChange={(e, zoom) => setZoom(zoom)}\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : <div className=\"select-img-container\" onClick={triggerFileSelectPopup} >\n\n\t\t\t\t\t\t\t<div className='select-img-wrapper'>\n\t\t\t\t\t\t\t\t<FaCamera />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Please Select an image</p>\n\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div className='container-buttons'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onSelectFile}\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className='MdClear' onClick={() => onClear()} >\n\t\t\t\t\t\t<MdClear />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className='CgBrowser' onClick={triggerFileSelectPopup} >\n\t\t\t\t\t\t<CgBrowser />\n\t\t\t\t\t</button>\n\n\n\t\t\t\t\t<button className='FiUpload' onClick={onUpload}>\n\t\t\t\t\t\t<FiUpload />\n\t\t\t\t\t</button>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nimport RenderCropper from \"./components/cropper/cropper\"\nexport default function App(props) {\n\treturn <RenderCropper\n\n\t\tsendFile={(file) => {\n\t\t\tprops.selectedFile(file)\n\t\t}}\n\n\t\tclose={(close) => {\n\t\t\tprops.closeModal(close)\n\t\t}}\n\n\t/>;\n}\n","import React from \"react\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nexport const BackdropContext = React.createContext();\n\nexport default function SimpleBackdrop({ children }) {\n\tconst classes = useStyles();\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst closeBackdrop = () => {\n\t\tsetOpen(false);\n\t};\n\tconst showBackdrop = () => {\n\t\tsetOpen(!open);\n\t};\n\n\treturn (\n\t\t<BackdropContext.Provider value={{ closeBackdrop, showBackdrop }}>\n\t\t\t<Backdrop\n\t\t\t\tclassName={classes.backdrop}\n\t\t\t\topen={open}\n\t\t\t\tonClick={closeBackdrop}\n\t\t\t>\n\t\t\t\t<CircularProgress color='inherit' />\n\t\t\t</Backdrop>\n\t\t\t{children}\n\t\t</BackdropContext.Provider>\n\t);\n}\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { AiOutlineCamera } from \"react-icons/ai\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport App from \"../ImageCrop/App\";\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\nconst CreatePost = (props) => {\r\n    const history = useHistory();\r\n    const [title, setTitle] = useState(\"\");\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState();\r\n    const [photoPrev, setPhotoPrev] = useState();\r\n    const [uploadPhotoModal, setUploadPhotoModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (photo) {\r\n            // createPostHandler();\r\n            uploadPic()\r\n        }\r\n\r\n\r\n    }, [photo])\r\n\r\n\r\n    const notify = () => toast.error('Please enter a title or a Photo', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n        \r\n                    setPhotoPrev(data.url)\r\n                    setUrl(data.url)\r\n\r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n\r\n    function createPostHandler() {\r\n\r\n        fetch(\"/post/create\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n\r\n            },\r\n            body: JSON.stringify({\r\n                title: title,\r\n                photo: url\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    notify()\r\n                }\r\n                else {\r\n           \r\n                    window.location.reload();\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    return <>\r\n        \r\n            <ToastContainer/>     \r\n\r\n        {(uploadPhotoModal) ? <RenderSnackbar>\r\n            <SimpleBackdrop>\r\n                <App\r\n                    selectedFile={(file) => {\r\n\r\n                        setPhoto(file)\r\n                        setUploadPhotoModal(false)\r\n\r\n                    }}\r\n\r\n                    closeModal={() => {\r\n                        setUploadPhotoModal(false)\r\n                    }}\r\n                />\r\n            </SimpleBackdrop>\r\n        </RenderSnackbar> : null}\r\n\r\n        <div className=\"create-post-container\">\r\n            <input\r\n                value={title}\r\n                onChange={(e) => {\r\n                    setTitle(e.target.value)\r\n                }}\r\n                type=\"text\"\r\n                className=\"create-post-title\"\r\n                placeholder=\"Whats on your mind ?\" />\r\n\r\n            <div className=\"preview-photo-container\">\r\n\r\n                {photoPrev ? <>\r\n                    <ImCancelCircle onClick={() => {\r\n                        setUrl()\r\n                        setPhotoPrev()\r\n                    }} />\r\n                    <img className=\"photo-preview\" src={photoPrev} /> </> : null}\r\n\r\n            </div>\r\n            <div className=\"post-file-container\">\r\n\r\n                <label onClick={() => {\r\n\r\n\r\n                    setUploadPhotoModal(true)\r\n\r\n                }} className=\"file-label\"><AiOutlineCamera /></label>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    onClick={() => {\r\n                        createPostHandler()\r\n\r\n                    }\r\n                    }\r\n                    className=\"create-post-submit\">Submit</button>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </>\r\n\r\n\r\n}\r\n\r\nexport default CreatePost\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext'\r\nimport { GrSearch } from \"react-icons/gr\";\r\n\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport { IoNotificationsOutline } from \"react-icons/io5\";\r\n\r\nconst Navbar = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [isModal, setIsModal] = useState(false)\r\n    const [foundUser, setFoundUser] = useState();\r\n    const [search, setSearch] = useState(\"\");\r\n    const [requests, setRequests] = useState([]);\r\n\r\n    const [notificationOn, setNotificationOn] = useState(false)\r\n \r\n    useEffect(() => {\r\n\r\n        if (state) {\r\n\r\n            fetchposts2()\r\n        }\r\n\r\n    }, [state])\r\n\r\n    function fetchUsers(query) {\r\n        setSearch(query);\r\n\r\n        fetch(\"/user/search-user\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                query\r\n            })\r\n\r\n\r\n        }).then((res => {\r\n            res.json().then((data) => {\r\n\r\n                setFoundUser(data.found)\r\n\r\n            })\r\n        })).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${state._id}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setRequests(data.user.requests)\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function declineRequest(id) {\r\n        fetch(`/user/decline-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                fetchposts2()\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function acceptRequest(id) {\r\n        fetch(`/user//accept-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                requesterId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                fetchposts2()\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function showLinks() {\r\n        if (state) {\r\n            return <>\r\n                <div className=\"search-bar-container\">\r\n                    <input type=\"text\" className=\"search-bar\" placeholder=\"Search for people\" value={search} onChange={(e) => { fetchUsers(e.target.value) }} />\r\n                    <Link to=\"/profile\"><GrSearch className=\"search-icon\" /></Link>\r\n\r\n\r\n                    {(foundUser) ?\r\n\r\n\r\n                        (foundUser.length > 0) ? <div className=\"found-container\"> {foundUser.map((each, index) => {\r\n                            return <div key={index}><Link to={`/${each._id}`} target=\"_blank\"><div className=\"found-user\" >\r\n                                <div className=\"found-user-image-container\">\r\n                                    <img src={each.profilePhoto} />\r\n                                </div>\r\n                                <p className=\"found-user-name\">{each.name}</p>\r\n                            </div></Link>\r\n                            </div>\r\n                        })}</div> :\r\n                            <div className=\"found-container\">\r\n                                <div className=\"found-user\">\r\n                                    <p className=\"found-user-name\">No users found</p>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        : null}\r\n                </div>\r\n\r\n\r\n                <div className=\"navbar-links\">\r\n\r\n                    <button className=\"requests-container-open-button\" onClick={() => { setNotificationOn(!notificationOn) }}><IoNotificationsOutline />{requests.length>0?<div className=\"notifications-count\">{requests.length}</div>:null}</button>\r\n                   \r\n                   \r\n                    <button className=\"logout-link\"\r\n\r\n                        onClick={() => setIsModal(true)}\r\n                    >Sign Out</button>\r\n\r\n                    {(requests) ?\r\n\r\n\r\n                        (requests.length > 0) ? <div className={(notificationOn) ? \"requests-container\" : \"requests-container notifications-not-active\"}> {requests.map((each, index) => {\r\n\r\n                            return <div className=\"requests-user\" key={index}>\r\n                                <div className=\"requests-user-image-container\">\r\n                                    <img src={each.profilePhoto} />\r\n                                </div>\r\n                                <Link to={`/${each._id}`} target=\"_blank\"><p className=\"requests-user-name\">{each.name}</p></Link>\r\n\r\n                                <div className=\"request-button-container\">\r\n                                    <button className=\"request-accept\" onClick={() => { acceptRequest(each._id) }}>Accept</button>\r\n                                    <button className=\"request-accept\" onClick={() => { declineRequest(each._id) }}>Decline</button>\r\n                                </div>\r\n                            </div>\r\n                        })}</div> :\r\n                            <div className={(notificationOn) ? \"requests-container\" : \"requests-container notifications-not-active\"}>\r\n                                <div className=\"requests-user\">\r\n                                    <p className=\"requests-user-name\">No requests</p>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        : null}\r\n\r\n\r\n                </div>\r\n\r\n            </>\r\n        }\r\n        else {\r\n            return <>\r\n\r\n            </>\r\n        }\r\n    }\r\n\r\n    return <>{isModal ? <div className=\"modal-background\">\r\n\r\n        <div className=\"modal-container\">\r\n            <h4>Sign Out </h4>\r\n\r\n            <button className=\"modal-cancel\" onClick={() => {\r\n                setIsModal(false)\r\n            }}><ImCancelCircle /></button>\r\n\r\n            <p>Are you sure you want to Sign Out ?</p>\r\n            <div className=\"modal-buttons\">\r\n                <button onClick={() => {\r\n\r\n                    setIsModal(false)\r\n                    localStorage.clear();\r\n                    dispatch({ type: \"CLEAR\" })\r\n                    history.push(\"/sign-in\")\r\n\r\n\r\n\r\n                }}\r\n                >Yes</button>\r\n                <button onClick={() => {\r\n                    setIsModal(false)\r\n                }}\r\n                >No</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div> : null}\r\n\r\n\r\n        <div className=\"navbar-container\">\r\n            <Link to=\"/\">\r\n                <div className=\"navbar-brand\">\r\n                    <img src=\"./logo.png\"/>\r\n                 \r\n                </div></Link>\r\n\r\n\r\n            {showLinks()}\r\n\r\n        </div>\r\n    </>\r\n\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useContext} from 'react'\r\nimport { Link} from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext'\r\nimport { MdRssFeed } from \"react-icons/md\";\r\nimport { FaUserAlt } from \"react-icons/fa\";\r\nimport { IoSettingsOutline } from \"react-icons/io5\";\r\n\r\n\r\n\r\nconst LeftSideBar = () => {\r\n\r\n    const { state, dispatch } = useContext(UserContext)\r\n    if(!state){\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div className=\"left-sidebar-container\">\r\n            <div className=\"left-sidebar-links-container\" >\r\n            <Link to=\"/profile\" className=\"left-sidebar-link-profile\">\r\n                        <div className=\"profile-image-wrapper\"><img  src={state.profilePhoto} /></div><p>{state.name}</p></Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/\"><div className=\"left-sidebar-link-icons\"><MdRssFeed/></div> <p>Feeds</p> </Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/profile\"><div className=\"left-sidebar-link-icons\"><FaUserAlt/></div> <p>Profile</p></Link>\r\n                <Link className=\"left-sidebar-link\" to=\"/settings\"><div className=\"left-sidebar-link-icons\"><IoSettingsOutline/></div> <p>Settings</p></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LeftSideBar\r\n","import React from 'react'\r\n\r\nconst RIghtSideBar = () => {\r\n    return (\r\n        <div className=\"right-sidebar-container\">\r\n      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RIghtSideBar\r\n","import React, { useEffect, useState, useContext, useRef } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { ImQuotesLeft } from \"react-icons/im\";\r\nimport { MdPhotoCamera } from \"react-icons/md\";\r\nimport { RiShareForwardFill } from \"react-icons/ri\";\r\nimport CreatePost from \"../create-post/CreatePost\"\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\n\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n    const { state} = useContext(UserContext)\r\n    const [posts, setPosts] = useState([]);\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const [isModal, setIsModal] = useState(false)\r\n    const scrollerDiv = useRef();\r\n\r\n\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n\r\n    useEffect(() => {\r\n        fetchPosts();\r\n\r\n    }, [])\r\n\r\n\r\n    function fetchPosts() {\r\n        fetch(\"/post/view-all-posts\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setPosts(data)\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n              setModalPostLiCom(data.post)\r\n        \r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchPosts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n\r\n    function makeComment(text, postId) {\r\n\r\n\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n                const newPosts = posts.map(each => {\r\n\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                fetchPosts()\r\n                liComInfo(postId)\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchPosts();\r\n                liComInfo(postId)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    function deletePost(postId) {\r\n\r\n        fetch(`./post/delete/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n\r\n                const newData = posts.filter((each) => {\r\n                    return data._id != each._id\r\n                })\r\n                setPosts(newData)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img className=\"post-card-img\" src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n                                <div className=\"post-modal-cancel-button\">\r\n                                    <GrClose onClick={() => {\r\n                                        setIsPostModal(false)\r\n                                        setModalPost()\r\n                                    }} />\r\n                                </div>\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            <p className=\"postModal-post-title\">{modalpost.title}</p>\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL , index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key = {index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} : </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> : null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>No posts to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n\r\n                {(state) ? <RightSideBar /> : null}\r\n            </div>\r\n            {postModal()}\r\n            <div className=\"createPost-header\">\r\n                <div className=\"createPost-header-containers\">\r\n                    <ImQuotesLeft className=\" cp-one\" />\r\n                    <p>Share an update</p>\r\n                </div>\r\n                <div className=\"createPost-header-containers \">\r\n                    <MdPhotoCamera className=\" cp-two \" />\r\n                    <p>Upload a photo</p>\r\n                </div>\r\n\r\n                <div className=\"createPost-header-containers \">\r\n                    <RiShareForwardFill className=\" cp-three\" />\r\n                    <p>Share a Post</p>\r\n                </div>\r\n            </div>\r\n            <CreatePost\r\n            />\r\n\r\n            {(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n\r\n                return <div className=\"home-container\" key={index}>\r\n\r\n                    {isModal ? <div className=\"modal-background\">\r\n\r\n                        <div className=\"modal-container\">\r\n                            <h4>Delete Post </h4>\r\n\r\n                            <button className=\"modal-cancel\" onClick={() => {\r\n                                setIsModal(false)\r\n                            }}><ImCancelCircle /></button>\r\n\r\n                            <p>Are you sure you want to delete this post ?</p>\r\n                            <div className=\"modal-buttons\">\r\n                                <button onClick={() => {\r\n                                    deletePost(each._id)\r\n                                    setIsModal(false)\r\n                                }}\r\n                                >Yes</button>\r\n                                <button onClick={() => {\r\n                                    setIsModal(false)\r\n                                }}\r\n                                >No</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div> : null}\r\n                    <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                        <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                        <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                        <p className=\"post-card-title\">{each.title}</p>\r\n                        {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                        <img onClick={() => {\r\n                            setIsPostModal(true)\r\n                            liComInfo(each._id)\r\n                            setModalPost(each)\r\n                        }} className=\"post-card-img\" src={each.photo} />\r\n\r\n\r\n                        <div className=\"li-com-container\">\r\n                            {likeOrDislike(each)}\r\n                            <span className=\"likes-number\" onClick={() => {\r\n                                setModalPostComments(false)\r\n                                setModalPostLikes(true)\r\n                                setIsPostModal(true)\r\n                                setModalPost(each)\r\n                            }}>{each.likes.length} Likes</span>\r\n                            <span> <BiCommentDots /></span>\r\n                            <label className=\"likes-number\" onClick={() => {\r\n                                setModalPostComments(true)\r\n                                setModalPostLikes(false)\r\n                                setIsPostModal(true)\r\n                                setModalPost(each)\r\n                            }}>{each.comments.length} Comments</label>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"comment-section\">\r\n                            <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                            {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                                if (commentField.current) {\r\n\r\n                                    (makeComment(commentField.current.value, each._id));\r\n\r\n                                }\r\n\r\n\r\n                            }}><MdSend /></button> : null}\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            })}\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState,useContext } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport { HiOutlineMail } from \"react-icons/hi\"\r\nimport { RiLockPasswordFill } from \"react-icons/ri\"\r\n\r\nconst SignIn = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [invalidLogin , setInvalidLogin] = useState(false)\r\n\r\n    function handler() {\r\n        fetch(\"/auth/sign-in\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: password\r\n            })\r\n        }).then(response => {\r\n\r\n            response.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    setInvalidLogin(true);\r\n                    setEmail(\"\")\r\n                    setPassword(\"\")\r\n                }\r\n                else {\r\n                    \r\n                    localStorage.setItem(\"jwt\", data.token);\r\n                    localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n                    dispatch({ type: \"USER\", payload: data.user })\r\n\r\n                    history.push(\"/\")\r\n                }\r\n            })\r\n        })\r\n\r\n    }\r\n    if(state){\r\n        history.push(\"/\")\r\n    }\r\n  \r\n\r\n    return (\r\n        <>\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page-image-container\">\r\n                    <img src=\"./auth.jpg\" />\r\n                </div>\r\n                <div className=\"sign-in-container\">\r\n                    <div className=\"sign-in-heading\">\r\n                        <p className=\"sign-in-heading-brand\">Login to SS</p>\r\n                        <p className=\"sign-in-heading-signin\">Welcome to the SS ! <br /> Login with the credentials used during registration</p>\r\n                    </div>\r\n\r\n                    <div className=\"sign-in-form\">\r\n                        <div className=\"sign-in-email-container\">\r\n                            <span><HiOutlineMail /></span>\r\n                            <div>\r\n                                <p>Email </p>\r\n                                <input type=\"email\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    className=\"sign-in-email-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"sign-in-passoword-container\">\r\n                            <span><RiLockPasswordFill /></span>\r\n                            <div>\r\n                                <p>Password</p>\r\n                                <input type=\"password\"\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"sign-in-passoword-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"remember-me-forgot-container\">\r\n                           <label><Link to=\"/forgot-password\">forgot password ?</Link></label>\r\n                        </div>\r\n                         {invalidLogin ? <p className=\"invalid-login\">Your Username and Password don't match !</p>:null}\r\n                        <button\r\n                            onClick={handler}\r\n                            className=\"sign-in-button\">Sign In</button>\r\n                        \r\n                        <p className=\"new-account-link\">Don\"t have an account? <Link to=\"/sign-up\">Register</Link></p>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { HiOutlineMail } from \"react-icons/hi\"\r\nimport { RiLockPasswordFill } from \"react-icons/ri\"\r\nimport { CgNametag } from \"react-icons/cg\"\r\n\r\n\r\nconst SignUp = () => {\r\n    const history = useHistory();\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState()\r\n    \r\n    const [emailOk, setEmailOk] = useState(true)\r\n    const [passwordOk, setPassowrdOk] = useState(true)\r\n\r\n\r\n\r\n    function handler() {\r\n        fetch(\"/auth/sign-up\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                email: email,\r\n                password: password\r\n            })\r\n        }).then(response => {\r\n            response.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                }\r\n                else {\r\n                    history.push(\"/sign-in\")\r\n                }\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    function emailChecker(e) {\r\n        setEmail(e.target.value)\r\n        const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\r\n       \r\n        if (re.test(String(email).toLowerCase())){\r\n            setEmailOk(true)\r\n        }\r\n        else{\r\n            setEmailOk(false)\r\n        }\r\n\r\n    }\r\n\r\n    function passwordChecker(e) {\r\n        setPassword(e.target.value)\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n       \r\n        if (re.test(String(password))){\r\n            setPassowrdOk(true)\r\n        }\r\n        else{\r\n            setPassowrdOk(false)\r\n        }\r\n\r\n    }\r\n    return (\r\n\r\n\r\n        <>\r\n            <div className=\"auth-page-container\">\r\n                <div className=\"auth-page-image-container\">\r\n                    <img src=\"./auth.jpg\" />\r\n                </div>\r\n                <div className=\"sign-in-container\">\r\n                    <div className=\"sign-in-heading\">\r\n                        <p className=\"sign-in-heading-brand\">Create an Account</p>\r\n                        <p className=\"sign-in-heading-signin\">Join SS Today !</p>\r\n                    </div>\r\n\r\n                    <div className=\"sign-in-form\">\r\n                        <div className=\"sign-in-name-container\">\r\n                            <span><CgNametag /></span>\r\n                            <div>\r\n                                <p>Name </p>\r\n                                <input type=\"text\"\r\n                                    value={name}\r\n                                    onChange={(e) => setName(e.target.value)}\r\n                                    className=\"sign-in-name-input\" />\r\n                              \r\n                             </div>\r\n                             \r\n\r\n                        </div>\r\n                        \r\n                        <div className=\"sign-in-email-container\">\r\n                            <span><HiOutlineMail /></span>\r\n                            <div>\r\n                                <p>Email </p>\r\n                                <input type=\"email\"\r\n                                    value={email}\r\n                                    onChange={emailChecker}\r\n                                    className=\"sign-in-email-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n                        {emailOk? null : <p className=\"invalid-login\"> Enter email address properly !</p>}\r\n\r\n                        <div className=\"sign-in-passoword-container\">\r\n                            <span><RiLockPasswordFill /></span>\r\n                            <div>\r\n                                <p>Password</p>\r\n                                <input type=\"password\"\r\n                                    value={password}\r\n                                    onChange={passwordChecker}\r\n                                    className=\"sign-in-passoword-input\" />\r\n                            </div>\r\n\r\n                        </div>\r\n                        {passwordOk? null : <p className=\"invalid-login\"> Must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</p>}\r\n\r\n\r\n                        { (email && password && emailOk && passwordOk) ? <button\r\n                            onClick={handler}\r\n                            className=\"sign-in-button\">Register</button> : <button className=\"sign-in-button invalid-button\">Register</button>}\r\n                       \r\n\r\n                        <p className=\"new-account-link\">Already have an account? <Link to=\"/sign-in\">Login</Link></p>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport { ImCancelCircle } from \"react-icons/im\";\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { AiOutlineCamera } from \"react-icons/ai\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Profile = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [posts, setPosts] = useState();\r\n    const [userData, setUserData] = useState()\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n    const [showPhotos, setShowPhotos] = useState(true);\r\n    const [showPosts, setshowPosts] = useState(false);\r\n    const [isModal, setIsModal] = useState(false)\r\n\r\n    const [showFollowers, setShowFollowers] = useState()\r\n    const [showFollowing, setShowFollowing] = useState()\r\n\r\n    const [following, setFollowing] = useState([]);\r\n    const [followers, setFollowers] = useState([])\r\n\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const scrollerDiv = useRef();\r\n    const [ProfilePicModal, setProfilePicModal] = useState(false);\r\n    const [coverPicModal, setCoverPicModal] = useState(false);\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        fetchposts();\r\n\r\n        if (state) {\r\n            fetchposts2()\r\n        }\r\n\r\n    }, [state])\r\n\r\n    function fetchposts() {\r\n        fetch(\"/post//view-my-posts\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setUserData(data.user);\r\n                    setPosts(data.found)\r\n                }\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${state._id}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setFollowers(data.user.followers)\r\n                    setFollowing(data.user.following)\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n\r\n                setModalPostLiCom(data.post)\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchposts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n    function makeComment(text, postId) {\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                liComInfo(postId)\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function deletePost(postId) {\r\n\r\n        fetch(`./post/delete/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n\r\n                const newData = posts.filter((each) => {\r\n                    return data._id != each._id\r\n                })\r\n                setPosts(newData)\r\n                window.location.reload();\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function returnPhotosSection() {\r\n        return <div className=\"profile-photos-container\">\r\n\r\n            {(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n                if (each.photo) {\r\n                    return <div className=\"profile-photo-wrapper\" key={index}>\r\n                        <img onClick={() => {\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}\r\n                            src={each.photo}></img>\r\n                    </div>\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n\r\n\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    function returnPostsSection() {\r\n        return <>{(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n            return <div key={index}>\r\n\r\n\r\n                {isModal ? <div className=\"modal-background\">\r\n\r\n                    <div className=\"modal-container\">\r\n                        <h4>Delete Post </h4>\r\n\r\n                        <button className=\"modal-cancel\" onClick={() => {\r\n                            setIsModal(false)\r\n                        }}><ImCancelCircle /></button>\r\n\r\n                        <p>Are you sure you want to delete this post ?</p>\r\n                        <div className=\"modal-buttons\">\r\n                            <button onClick={() => {\r\n                                deletePost(each._id)\r\n                                setIsModal(false)\r\n                            }}\r\n                            >Yes</button>\r\n                            <button onClick={() => {\r\n                                setIsModal(false)\r\n                            }}\r\n                            >No</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div> : null}\r\n                <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                    <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                    <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                    <p className=\"post-card-title\">{each.title}</p>\r\n                    {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                    <img onClick={() => {\r\n                        setIsPostModal(true)\r\n                        liComInfo(each._id)\r\n                        setModalPost(each)\r\n                    }} className=\"post-card-img\" src={each.photo} />\r\n\r\n\r\n                    <div className=\"li-com-container\">\r\n                        {likeOrDislike(each)}\r\n                        <span className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(false)\r\n                            setModalPostLikes(true)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.likes.length} Likes</span>\r\n                        <span> <BiCommentDots /></span>\r\n                        <label className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(true)\r\n                            setModalPostLikes(false)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.comments.length} Comments</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"comment-section\">\r\n                        <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                        {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                            if (commentField.current) {\r\n\r\n                                (makeComment(commentField.current.value, each._id));\r\n\r\n                            }\r\n\r\n\r\n                        }}><MdSend /></button> : null}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        })}\r\n        </>\r\n    }\r\n\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img className=\"post-card-img\" src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n                                <div className=\"post-modal-cancel-button\">\r\n                                    <GrClose onClick={() => {\r\n                                        setIsPostModal(false)\r\n                                        setModalPost()\r\n                                    }} />\r\n                                </div>\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            <p className=\"postModal-post-title\">{modalpost.title}</p>\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC, index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} : </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> : null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Nothing to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchposts()\r\n                liComInfo(postId)\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n\r\n    function returnFollowersSection() {\r\n        if (!followers) {\r\n            return <></>\r\n        }\r\n\r\n        return <>\r\n            {followers.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n    function returnFollowingSection() {\r\n        if (!following) {\r\n            return <></>\r\n        }\r\n\r\n        return <>\r\n            {following.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    function ProfilePicModalHandler() {\r\n        if (!ProfilePicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n\r\n            <IoClose onClick={() => { setProfilePicModal(false) }} />\r\n            <img src={state.profilePhoto} />\r\n\r\n\r\n        </div>\r\n    }\r\n\r\n    function coverPicModalHandler() {\r\n        if (!coverPicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n\r\n            <IoClose onClick={() => { setCoverPicModal(false) }} />\r\n            <img src={state.coverPhoto} />\r\n\r\n\r\n        </div>\r\n    }\r\n\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n\r\n                {(state) ? <RightSideBar /> : null}\r\n            </div>\r\n            {coverPicModalHandler()}\r\n            {ProfilePicModalHandler()}\r\n            {postModal()}\r\n\r\n            <div className=\"cover-photo-container\">\r\n                <img className=\"cover-photo\" src={state.coverPhoto} onClick={() => { setCoverPicModal(true) }} />\r\n                <Link to=\"/change-cover-picture\"><AiOutlineCamera /></Link>\r\n            </div>\r\n\r\n            <div className=\"profile-img-reference\">\r\n                <div className=\"profile-img-wrapper\">\r\n                    <img src={state.profilePhoto} onClick={() => { setProfilePicModal(true) }} />\r\n\r\n                </div>\r\n                <Link to=\"/change-profile-picture\"><AiOutlineCamera /></Link>\r\n\r\n            </div>\r\n\r\n            <div className=\"profile-container\">\r\n\r\n                <div className=\"profile-info-container\">\r\n\r\n                    <div className=\"profile-details-container\">\r\n                        <p>{userData.name}</p>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(true)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(false)\r\n                        }}>Gallery</span>\r\n\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(true)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(false)\r\n                        }}>({posts.length}) Posts</span>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(true)\r\n                        }} > ({userData.followers.length}) Followers</span>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(true)\r\n                            setShowFollowers(false)\r\n                        }} >({userData.following.length}) Following</span>\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                {showPhotos === true ? returnPhotosSection() : null}\r\n\r\n                {showPosts === true ? returnPostsSection() : null}\r\n\r\n                {showFollowers === true ? returnFollowersSection() : null}\r\n\r\n                {showFollowing === true ? returnFollowingSection() : null}\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { useParams } from \"react-router-dom\"\r\nimport { AiFillDislike, AiFillLike } from \"react-icons/ai\";\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { MdSend } from \"react-icons/md\";\r\nimport { RiUserFollowLine } from \"react-icons/ri\";\r\nimport { RiUserUnfollowLine } from \"react-icons/ri\";\r\nimport { BiCommentDots } from \"react-icons/bi\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { IoClose } from \"react-icons/io5\"\r\nimport { RiCameraOffLine } from \"react-icons/ri\";\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\n\r\n\r\n\r\nconst OtherProfile = () => {\r\n    const history = useHistory();\r\n    const { state} = useContext(UserContext)\r\n    const [userData, setUserData] = useState()\r\n    const [posts, setPosts] = useState();\r\n    const { userid } = useParams();\r\n\r\n    const [comment, setCommnent] = useState(\"\");\r\n    const commentField = useRef();\r\n    const modalCommentField = useRef();\r\n    const [isPostModal, setIsPostModal] = useState(false);\r\n    const [modalpost, setModalPost] = useState();\r\n    const [isModal, setIsModal] = useState(false)\r\n\r\n    const [showPhotos, setShowPhotos] = useState(true);\r\n    const [showPosts, setshowPosts] = useState(false);\r\n    const [showFollowers, setShowFollowers] = useState()\r\n    const [showFollowing, setShowFollowing] = useState()\r\n\r\n    const [following, setFollowing] = useState([]);\r\n    const [followers, setFollowers] = useState([]);\r\n    const [requested, setRequested] = useState();\r\n\r\n    const [ProfilePicModal, setProfilePicModal] = useState(false);\r\n    const [coverPicModal, setCoverPicModal] = useState(false);\r\n    const [modalpostLikes, setModalPostLikes] = useState(false);\r\n    const [modalpostComments, setModalPostComments] = useState(true);\r\n    const scrollerDiv = useRef();\r\n\r\n    const [modalpostLiCom, setModalPostLiCom] = useState();\r\n\r\n    useEffect(() => {\r\n        fetchposts();\r\n        fetchposts2()\r\n    }, [])\r\n\r\n    function fetchposts() {\r\n        fetch(`/user/${userid}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/\")\r\n                }\r\n                else {\r\n                    setUserData(data.user)\r\n                    setPosts(data.post)\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function fetchposts2() {\r\n        fetch(`/user/${userid}/influence`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error);\r\n                    history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n                }\r\n                else {\r\n                    setRequested(data.user.requested)\r\n                    setFollowers(data.user.followers)\r\n                    setFollowing(data.user.following)\r\n                }\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n            }\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function liComInfo(postID) {\r\n        fetch(`/post/li-com-info/${postID}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'contentType': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n\r\n                setModalPostLiCom(data.post)\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    function followRequest(followId) {\r\n        fetch(`/user/request-follow`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setUserData(data.result)\r\n\r\n\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function declineRequest(id) {\r\n        fetch(`/user/cancel-follow`, {\r\n            method: 'put',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId: id\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n                setUserData(data.result2)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function unfollow(followId) {\r\n\r\n        fetch(`/user/unfollow`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setUserData(data.result)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function likeDisLikePost(postID, what) {\r\n        fetch(`./post/${what}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postID\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n\r\n                })\r\n                setPosts(newPosts)\r\n                fetchposts()\r\n                liComInfo(postID)\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function likeOrDislike(each) {\r\n\r\n\r\n        if (each.likes.includes(state._id)) {\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"dislike\")\r\n\r\n            }} ><AiFillDislike /></button>\r\n        }\r\n        else {\r\n\r\n            return <button className=\"post-card-like-button\" onClick={() => {\r\n                likeDisLikePost(each._id, \"like\")\r\n\r\n            }} ><AiFillLike /></button>\r\n\r\n\r\n        }\r\n    }\r\n\r\n    function deleteCommment(text, postId) {\r\n\r\n        fetch(`./post/delete-comment/${postId}`, {\r\n            method: 'delete',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n\r\n                setModalPost(data)\r\n                fetchposts()\r\n                liComInfo(postId)\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    function makeComment(text, postId) {\r\n        fetch(\"./post/comment\", {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                text,\r\n                postId\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                setCommnent(\"\")\r\n                setModalPost(data)\r\n\r\n                const newPosts = posts.map(each => {\r\n                    if (each._id === data._id) {\r\n                        return data\r\n                    }\r\n                    else {\r\n                        return each\r\n                    }\r\n                })\r\n                setPosts(newPosts)\r\n                liComInfo(postId)\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n    }\r\n\r\n    function returnPhotosSection() {\r\n        return <div className=\"profile-photos-container\">\r\n            {posts.map((each, index) => {\r\n                if (each.photo) {\r\n                    return <div className=\"profile-photo-wrapper\" key={index}>\r\n                        <img onClick={() => {\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}\r\n                            src={each.photo}></img>\r\n                    </div>\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n\r\n\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    function returnPostsSection() {\r\n        return <>{(posts.length === 0) ? noPosts() : posts.map((each, index) => {\r\n            return <div>\r\n\r\n                <div className=\"post-card\" key={index}>\r\n\r\n\r\n\r\n                    <div className=\"postedby-photo-container\"><img src={each.postedBy.profilePhoto} /></div>\r\n\r\n                    <p className=\"post-card-by\"><Link to={(state.id === each.postedBy._id) ? `./profile` : `/${each.postedBy._id}`}>{each.postedBy.name}</Link></p>\r\n\r\n\r\n                    <p className=\"post-card-title\">{each.title}</p>\r\n                    {(state._id === each.postedBy._id) ? <button className=\"delete-post-button\" onClick={() => setIsModal(true)}><MdDelete /></button> : null}\r\n                    <img onClick={() => {\r\n                        setIsPostModal(true)\r\n                        liComInfo(each._id)\r\n                        setModalPost(each)\r\n                    }} className=\"post-card-img\" src={each.photo} />\r\n\r\n\r\n                    <div className=\"li-com-container\">\r\n                        {likeOrDislike(each)}\r\n                        <span className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(false)\r\n                            setModalPostLikes(true)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.likes.length} Likes</span>\r\n                        <span> <BiCommentDots /></span>\r\n                        <label className=\"likes-number\" onClick={() => {\r\n                            setModalPostComments(true)\r\n                            setModalPostLikes(false)\r\n                            setIsPostModal(true)\r\n                            setModalPost(each)\r\n                        }}>{each.comments.length} Comments</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"comment-section\">\r\n                        <input ref={commentField} type=\"text\" className=\"comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                        {(/\\S/.test(comment)) ? <button className=\"comment-button\" onClick={() => {\r\n\r\n                            if (commentField.current) {\r\n\r\n                                (makeComment(commentField.current.value, each._id));\r\n\r\n                            }\r\n\r\n\r\n                        }}><MdSend /></button> : null}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        })}\r\n        </>\r\n    }\r\n\r\n    function postModal() {\r\n        if (modalpost && isPostModal) {\r\n            liComInfo(modalpost._id)\r\n            return <>\r\n                <div className=\"postModal-container\">\r\n                    <div className=\"postModal-image-info-container\">\r\n\r\n                        {(modalpost.photo) ? <div className=\"postModal-image\">\r\n                            <img className=\"post-card-img\" src={modalpost.photo} />\r\n                        </div> : null}\r\n\r\n\r\n                        <div className=\"postModal-info-container\">\r\n\r\n\r\n                            <div className=\"name-photo-container\">\r\n                                <div className=\"postModal-postedby-photo-container\"><img src={modalpost.postedBy.profilePhoto} /></div>\r\n                                <label className=\"postModal-post-by\"><Link to={(state.id === modalpost.postedBy._id) ? `./profile` : `/${modalpost.postedBy._id}`}>{modalpost.postedBy.name}</Link></label>\r\n                                <div className=\"post-modal-cancel-button\">\r\n                                    <GrClose onClick={() => {\r\n                                        setIsPostModal(false)\r\n                                        setModalPost()\r\n                                    }} />\r\n                                </div>\r\n                                {(state._id === modalpost.postedBy._id) ? <div className=\"postModal-delete-post-button\" onClick={() => setIsModal(modalpost._id)}><button  ><MdDelete /></button> </div> : null}\r\n                            </div>\r\n\r\n                            <p className=\"postModal-post-title\">{modalpost.title}</p>\r\n\r\n\r\n                            <div className=\"post-modal-li-com-toggle-container\">\r\n                                <button className={(modalpostLikes) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(false)\r\n                                    setModalPostLikes(true)\r\n                                }}>Likes</button>\r\n\r\n                                <button className={(modalpostComments) ? \"postModal-comments-heading active-li-com\" : \"postModal-comments-heading\"} onClick={() => {\r\n                                    setModalPostComments(true)\r\n                                    setModalPostLikes(false)\r\n                                }}>Comments</button>\r\n\r\n                            </div>\r\n\r\n                            {(modalpostLikes && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n                                {modalpostLiCom.likes.map((eachL , index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachL.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachL._id}`}>{eachL.name}</Link> </label>\r\n\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                            </div> : null}\r\n\r\n\r\n\r\n\r\n\r\n                            {(modalpostComments && modalpostLiCom) ? <div ref={scrollerDiv} className=\"scrolling-container\" id=\"comments-holder\" >\r\n\r\n\r\n                                {modalpostLiCom.comments.map((eachC , index) => {\r\n\r\n                                    return <div className=\"comment-wrapper\" key={index}>\r\n                                        <div className=\"comment-wrapper-image-container\">\r\n                                            <img src={eachC.postedBy.profilePhoto} />\r\n                                        </div>\r\n                                        <label><Link to={`/${eachC.postedBy._id}`} target=\"_blank\">{eachC.postedBy.name} : </Link> </label>\r\n                                        <p className=\"postModal-each-comment\">{eachC.text}</p>\r\n                                        {eachC.postedBy._id === state._id ? <IoClose className=\"postModal-delete-comment-button\" onClick={() => {\r\n\r\n                                            deleteCommment(eachC.text, modalpost._id)\r\n\r\n                                        }}\r\n                                        /> : null}\r\n                                    </div>\r\n\r\n                                })\r\n                                }\r\n\r\n\r\n                            </div> : null}\r\n\r\n                            <div className=\"postModal-li-com-container\">\r\n                                {likeOrDislike(modalpost)}\r\n                                <span className=\"postModal-likes-number\">{modalpost.likes.length} Likes</span>\r\n                                <span> <BiCommentDots /></span>\r\n                                <label className=\"postModal-likes-number\">{modalpost.comments.length} Comments</label>\r\n\r\n                            </div>\r\n                            <div className=\"postModal-comment-section\">\r\n                                <input ref={modalCommentField} type=\"text\" className=\"postModal-comment-input\" placeholder=\"add you comment here\" value={comment} onChange={(e) => setCommnent(e.target.value)} />\r\n\r\n                                {(/\\S/.test(comment)) ? <button className=\"postModal-comment-button\" onClick={() => {\r\n\r\n                                    makeComment(modalCommentField.current.value, modalpost._id);\r\n                                }}><MdSend /></button> : null}\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function returnFollowersSection() {\r\n        if (!followers) {\r\n            return <></>\r\n        }\r\n\r\n        return <>\r\n            {followers.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n    function returnFollowingSection() {\r\n        if (!following) {\r\n            return <></>\r\n        }\r\n\r\n        return <>\r\n            {following.map((each, index) => {\r\n                return <div className=\"followers-list-container\" key={index}>\r\n                    <div className=\"followers-profile-img-container\">\r\n                        <img src={each.profilePhoto} />\r\n                    </div>\r\n                    <Link to={`/${each._id}`} target=\"_blank\">{each.name}</Link>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    function ProfilePicModalHandler() {\r\n        if (!ProfilePicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n\r\n            <IoClose onClick={() => { setProfilePicModal(false) }} />\r\n            <img src={userData.profilePhoto} />\r\n\r\n\r\n        </div>\r\n    }\r\n\r\n    function coverPicModalHandler() {\r\n        if (!coverPicModal) {\r\n            return null;\r\n        }\r\n\r\n        return <div className=\"coverProfilePicModal-container\">\r\n\r\n            <IoClose onClick={() => { setCoverPicModal(false) }} />\r\n            <img src={userData.coverPhoto} />\r\n\r\n\r\n        </div>\r\n    }\r\n    function noPosts() {\r\n        return <div className=\"nothing-to-show-container\">\r\n            <p>Nothing to show</p>\r\n            <div className=\"nothing-to-show-svg-container\">\r\n                <RiCameraOffLine />\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    if (posts == undefined) {\r\n        return <div className=\"Loader\"><PropagateLoader /></div>\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n\r\n                {(state) ? <RightSideBar /> : null}\r\n            </div>\r\n            {coverPicModalHandler()}\r\n            {ProfilePicModalHandler()}\r\n            {postModal()}\r\n\r\n            <div className=\"cover-photo-container\">\r\n                <img className=\"cover-photo\" src={userData.coverPhoto} onClick={() => { setCoverPicModal(true) }} />\r\n\r\n\r\n            </div>\r\n            <div className=\"profile-img-reference\">\r\n                <div className=\"profile-img-wrapper\">\r\n                    <img src={userData.profilePhoto} onClick={() => { setProfilePicModal(true) }} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"profile-container\">\r\n\r\n                <div className=\"profile-info-container\">\r\n\r\n                    <div className=\"profile-details-container\">\r\n                        <p>{userData.name}</p>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(true)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(false)\r\n                        }}>Gallery</span>\r\n\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(true)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(false)\r\n                        }}>({posts.length}) Posts</span>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(false)\r\n                            setShowFollowers(true)\r\n                        }} > ({userData.followers.length}) Followers</span>\r\n                        <span onClick={() => {\r\n                            setShowPhotos(false)\r\n                            setshowPosts(false)\r\n                            setShowFollowing(true)\r\n                            setShowFollowers(false)\r\n                        }} >({userData.following.length}) Following</span>\r\n\r\n                        {userid !== state._id ? userData.followers.includes(state._id) ? <button onClick={() => { unfollow(userid) }}>Unfollow<RiUserUnfollowLine /></button> : (userData.requests.includes(state._id)) ? <button onClick={() => { declineRequest(userid) }}>Pending<RiUserUnfollowLine /></button> : <button onClick={() => { followRequest(userid) }}>Follow<RiUserFollowLine /></button> : null}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {(showPhotos && userData.followers.includes(state._id)) === true ? returnPhotosSection() : null}\r\n\r\n                {(showPosts && userData.followers.includes(state._id)) === true ? returnPostsSection() : null}\r\n\r\n                {(showFollowers && userData.followers.includes(state._id)) === true ? returnFollowersSection() : null}\r\n\r\n                {(showFollowing && userData.followers.includes(state._id)) === true ? returnFollowingSection() : null}\r\n\r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default OtherProfile\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport App from \"../ImageCrop/App\";\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\n\r\nconst ChangeProfilePic = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState()\r\n    const history = useHistory();\r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            changePic()\r\n        }\r\n    }, [url])\r\n    \r\n    useEffect(() => {\r\n        if (photo) {\r\n            uploadPic()\r\n        }\r\n    }, [photo])\r\n\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n                    setUrl(data.url)\r\n                    \r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n    function changePic() {\r\n\r\n        fetch(\"/change-dp\", {\r\n\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                newUrl: url\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n            \r\n                localStorage.setItem(\"user\", JSON.stringify(data));\r\n                dispatch({ type: \"USER\", payload: data })\r\n                history.push(\"/profile\")\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <RenderSnackbar>\r\n                <SimpleBackdrop>\r\n                    <App\r\n                        selectedFile={(file) => {\r\n\r\n                            setPhoto(file)\r\n                           \r\n\r\n                        }}\r\n\r\n                        closeModal={(close) => {\r\n                            history.push(\"/profile\")\r\n                        }}\r\n                    />\r\n                </SimpleBackdrop>\r\n            </RenderSnackbar>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ChangeProfilePic\r\n","import React from \"react\";\nimport \"./cropper.css\";\n\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\n\n\nimport getCroppedImg, { generateDownload } from \"../../utils/cropImage\";\nimport { IconButton, makeStyles } from \"@material-ui/core\";\nimport { SnackbarContext } from \"../snackbar/snackbar\";\nimport { dataURLtoFile } from \"../../utils/dataURLtoFile\";\n\nimport { MdClear } from 'react-icons/md';\nimport { CgBrowser } from 'react-icons/cg';\nimport { FiUpload } from 'react-icons/fi';\nimport { FaCamera } from 'react-icons/fa';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\n\n\n\n\n\nconst useStyles = makeStyles({\n\ticonButton: {\n\t\tposition: \"absolute\",\n\t\ttop: \"20px\",\n\t\tright: \"20px\",\n\t},\n\tcancelIcon: {\n\t\tcolor: \"#00a3c8\",\n\t\tfontSize: \"50px\",\n\t\t\"&:hover\": {\n\t\t\tcolor: \"red\",\n\t\t},\n\t},\n});\n\nexport default function RenderCropper(props) {\n\tconst classes = useStyles();\n\n\tconst inputRef = React.useRef();\n\n\tconst triggerFileSelectPopup = () => inputRef.current.click();\n\n\tconst setStateSnackbarContext = React.useContext(SnackbarContext);\n\n\tconst [image, setImage] = React.useState(null);\n\tconst [croppedArea, setCroppedArea] = React.useState(null);\n\tconst [crop, setCrop] = React.useState({ x: 0, y: 0 });\n\tconst [zoom, setZoom] = React.useState(1);\n\n\tconst onCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\n\t\tsetCroppedArea(croppedAreaPixels);\n\t};\n\n\tconst onSelectFile = (event) => {\n\t\tif (event.target.files && event.target.files.length > 0) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.readAsDataURL(event.target.files[0]);\n\t\t\treader.addEventListener(\"load\", () => {\n\t\t\t\tsetImage(reader.result);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tconst onClear = () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tsetImage(null);\n\t};\n\n\tconst onUpload = async () => {\n\t\tif (!image)\n\t\t\treturn setStateSnackbarContext(\n\t\t\t\ttrue,\n\t\t\t\t\"select an image!\",\n\t\t\t\t\"warning\"\n\t\t\t);\n\n\t\tconst canvas = await getCroppedImg(image, croppedArea);\n\t\tconst canvasDataUrl = canvas.toDataURL(\"image/jpeg\");\n\t\tconst convertedUrlToFile = dataURLtoFile(\n\t\t\tcanvasDataUrl,\n\t\t\t\"cropped-image.jpeg\"\n\t\t);\n\t\tprops.sendFile(convertedUrlToFile)\n\t};\n\n\treturn (\n\t\t<div className=\"change-pic-container\">\n            \n\t\t\t<div className=\"change-pic-middle-container\">\n\t\t\t<div className=\"change-pic-heading\">\n\t\t\t\t<AiOutlineCloseCircle onClick={()=>{\n\t\t\t\t\tprops.close(`close`);\n\t\t\t\t}}/>\n\t\t\t</div>\n\t\t\t\t<div className='container-cropper-wrapper'>\n\n\n\t\t\t\t\t<div className='container-cropper'>\n\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='cropper'>\n\t\t\t\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tzoom={zoom}\n\t\t\t\t\t\t\t\t\t\taspect={2.62}\n\t\t\t\t\t\t\t\t\t\tonCropChange={setCrop}\n\t\t\t\t\t\t\t\t\t\tonZoomChange={setZoom}\n\t\t\t\t\t\t\t\t\t\tonCropComplete={onCropComplete}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='slider'>\n\t\t\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\t\tmax={3}\n\t\t\t\t\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\t\t\t\t\tvalue={zoom}\n\t\t\t\t\t\t\t\t\t\tonChange={(e, zoom) => setZoom(zoom)}\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : <div className=\"select-img-container\" onClick={triggerFileSelectPopup} >\n\n\t\t\t\t\t\t\t<div className='select-img-wrapper'>\n\t\t\t\t\t\t\t\t<FaCamera />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Please Select an image</p>\n\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div className='container-buttons'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onSelectFile}\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<button className='MdClear' onClick={() => onClear()} >\n\t\t\t\t\t\t<MdClear />\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<button className='CgBrowser' onClick={triggerFileSelectPopup} >\n\t\t\t\t\t\t<CgBrowser />\n\t\t\t\t\t</button>\n\n\n\t\t\t\t\t<button className='FiUpload' onClick={onUpload}>\n\t\t\t\t\t\t<FiUpload />\n\t\t\t\t\t</button>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport RenderCropper from \"./components/cropper/cropper-cover\"\nexport default function App(props) {\n\treturn <RenderCropper\n\n\t\tsendFile={(file) => {\n\t\t\tprops.selectedFile(file)\n\t\t}}\n\n\t\tclose={(close) => {\n\t\t\tprops.closeModal(close)\n\t\t}}\n\n\t/>;\n}\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../../contexts/UserContext\"\r\nimport App from \"../ImageCrop/App -cover\";\r\n\r\n\r\nimport RenderSnackbar from \"../ImageCrop/components/snackbar/snackbar\";\r\nimport SimpleBackdrop from \"../ImageCrop/components/backdrop/backdrop\";\r\n\r\n\r\nconst ChangeCoverPic = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [photo, setPhoto] = useState(\"\");\r\n    const [url, setUrl] = useState()\r\n    const history = useHistory();\r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            changePic()\r\n        }\r\n    }, [url])\r\n    \r\n    useEffect(() => {\r\n        if (photo) {\r\n            uploadPic()\r\n        }\r\n    }, [photo])\r\n\r\n\r\n    function uploadPic() {\r\n        const data = new FormData();\r\n        data.append(\"file\", photo)\r\n        data.append(\"upload_preset\", \"social-photos\")\r\n        data.append(\"cloud_name\", \"dxuwjnsg5\")\r\n\r\n        fetch(\"https://api.cloudinary.com/v1_1/dxuwjnsg5/image/upload\", {\r\n            method: \"POST\",\r\n            body: data\r\n        })\r\n            .then(res => {\r\n                res.json().then(data => {\r\n                    if (data.error) {\r\n                        console.log(data.error)\r\n                    }\r\n                    setUrl(data.url)\r\n                    \r\n\r\n\r\n\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n    }\r\n\r\n    function changePic() {\r\n\r\n        fetch(\"/change-cover\", {\r\n\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                newUrl: url\r\n            })\r\n        }).then(res =>\r\n            res.json().then(data => {\r\n        \r\n                localStorage.setItem(\"user\", JSON.stringify(data));\r\n                dispatch({ type: \"USER\", payload: data })\r\n                history.push(\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\")\r\n\r\n            }).catch(err =>\r\n                console.log(err)\r\n\r\n            )\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <RenderSnackbar>\r\n                <SimpleBackdrop>\r\n                    <App\r\n                        selectedFile={(file) => {\r\n\r\n                            setPhoto(file)\r\n                           \r\n\r\n                        }}\r\n\r\n                        closeModal={(close) => {\r\n                            history.push(\"/profile\")\r\n                        }}\r\n                    />\r\n                </SimpleBackdrop>\r\n            </RenderSnackbar>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChangeCoverPic\r\n","import React, { useState } from 'react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst ChangePass = () => {\r\n    const [oldPass, setOldPass] = useState();\r\n    const [newPass, setNewPass] = useState(\"\");\r\n    const [confirmNewPass, setConfirmNewPass] = useState(\"\");\r\n    const [oldpassError, setOldPassError] = useState(false);\r\n    const [passwordOk, setPassowrdOk] = useState(true);\r\n\r\n\r\n    function passwordChanger(){\r\n        fetch(\"/user/change-password\", {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n               \r\n            },\r\n            body: JSON.stringify({\r\n                oldPass,\r\n                newPass\r\n            })\r\n        }).then(res=>{\r\n            res.json().then(data=>{\r\n                if(data.error){\r\n                    setOldPassError(true)\r\n                }\r\n                else{\r\n                    setOldPassError(false)\r\n                    notify()\r\n                }\r\n                \r\n               \r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    \r\n    }\r\n\r\n\r\n    function passwordChecker(e) {\r\n        setNewPass(e.target.value)\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n\r\n        if (re.test(String(newPass))) {\r\n            setPassowrdOk(true)\r\n        }\r\n        else {\r\n            setPassowrdOk(false)\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    const notify = () => toast.success('Password changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <p className=\"change-pass-heading\">Change your Password</p>\r\n            <div className=\"change-pass-form\">\r\n\r\n                <div className=\"change-pass-containers old-pass\">\r\n                    <label>Old Password: </label>\r\n                    <input type=\"password\" value={oldPass} onChange={(e) => { setOldPass(e.target.value) }} />\r\n                </div>\r\n\r\n                <div className=\"change-pass-containers new-pass\">\r\n                    <label>New Password : </label>\r\n                    <input type=\"password\" value={newPass} onChange={(e) => { passwordChecker(e) }} />\r\n                </div>\r\n\r\n                <div className=\"change-pass-containers\">\r\n                    <label>Confirm Password : </label>\r\n                    <input type=\"password\" value={confirmNewPass} onChange={(e) => { setConfirmNewPass(e.target.value) }} />\r\n                </div>\r\n\r\n                {(newPass !== confirmNewPass) ?\r\n                    <div className=\"settings-error-container\">\r\n                        <p><li>new password and confirm password does not match</li></p>\r\n                    </div> : null}\r\n\r\n\r\n                {(passwordOk) ?null:\r\n                    <div className=\"settings-error-container\">\r\n                        <p><li>new Password must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</li></p>\r\n                    </div> }\r\n\r\n             \r\n\r\n                {(oldpassError) ? <div className=\"settings-error-container\">\r\n                    <p><li>Wrong old password</li></p>\r\n                </div> : null}\r\n\r\n\r\n                {(oldPass) && (passwordOk) && (newPass === confirmNewPass) ?<button  onClick={(e) => {passwordChanger()}}>Submit</button>: <button >Submit</button>}\r\n\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChangePass\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { UserContext } from \"../../../contexts/UserContext\"\r\n\r\nconst ChangeName = () => {\r\n\r\n    const [newName , setNewName] = useState(\"\");\r\n    const [error , setError] = useState(false);\r\n    const { state, dispatch } = useContext(UserContext)\r\n    function changeName(){\r\n        fetch(\"/user/change-name\" , {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n               \r\n            },\r\n            body:JSON.stringify({\r\n                newName\r\n            })\r\n        }).then(res=>{\r\n            res.json().then(data=>{\r\n                if(data.error){\r\n                    setError(true)\r\n                }\r\n                else{\r\n                  \r\n                   const updated = JSON.parse(localStorage.getItem(\"user\"));\r\n                   updated.name = newName;\r\n                   dispatch({ type: \"USER\", payload: updated })\r\n                   localStorage.setItem(\"user\", JSON.stringify(updated));\r\n                   notify()\r\n                }\r\n               \r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const notify = () => toast.success('Name changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n  \r\n    return (\r\n        <>\r\n          <ToastContainer/>  \r\n        <p className=\"change-name-heading\">Change your name</p>\r\n        <div className=\"change-name-form\">\r\n            <label> New Name : </label>\r\n            <input type=\"text\" value={newName} onChange={(e)=>{setNewName(e.target.value)}} />\r\n            \r\n            <button onClick={()=>{changeName()}}>Change Name</button>\r\n            {(error)?<div className=\"settings-error-container\">\r\n                    <p>Please enter all the fields correctly</p>\r\n                </div>:null}\r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChangeName\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from '../../../contexts/UserContext'\r\n\r\nimport { MdErrorOutline } from \"react-icons/md\";\r\n\r\nconst DeleteAccount = () => {\r\n    const history = useHistory();\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [error , setError] = useState(false);\r\n    const [password, setPassword] = useState(\"\");\r\n    const [agreed, setAgreed] = useState(false);\r\n   \r\n\r\n\r\n    function removeAcc() {\r\n        fetch(\"/user/delete-account\", {\r\n            method: \"delete\",\r\n            headers: {\r\n                'Content-Type': \"application/json\",\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                checked: agreed,\r\n                password\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error){\r\n                  \r\n                   setError(true)\r\n                }\r\n                else{\r\n                    setError(false)\r\n                localStorage.clear();\r\n                dispatch({ type: \"CLEAR\" })\r\n                history.push(\"/sign-in\")\r\n                }\r\n\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <p className=\"delete-acc-heading\">Delete your account</p>\r\n            <div className=\"delete-acc-form\">\r\n                <div>\r\n                    <label> Password : </label>\r\n                    <input type=\"password\" value={password} onChange={(e) => { setPassword(e.target.value) }} />\r\n\r\n                </div>\r\n\r\n                <div className=\"delete-acc-confirmation\">\r\n                    <input type=\"checkbox\" onChange={(e) => { \r\n                          setAgreed(e.target.checked)\r\n                        }} />\r\n                    <p>I am sure and I want to delete my account permanently</p>\r\n                </div>\r\n                \r\n                {(error)?<div className=\"settings-error-container\">\r\n                    <p>Please enter all the fields correctly</p>\r\n                </div>:null}\r\n                <button onClick={() => { removeAcc() }}>Delete</button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DeleteAccount\r\n","import React,{ useContext} from 'react'\r\nimport { Link, Switch, Route, BrowserRouter, useHistory } from \"react-router-dom\"\r\nimport ChangePass from \"./components/ChangePass.js\"\r\nimport ChangeName from \"./components/ChangeName.js\"\r\nimport DeleteAccount from \"./components/DeleteAccount\"\r\nimport Navbar from \"../navbar/Navbar\"\r\nimport LeftSideBar from \"../leftSideBar/LeftSideBar\"\r\nimport RightSideBar from \"../rightSideBar/RightSideBar\"\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\n\r\nconst Settings = () => {\r\n    const { state, dispatch } = useContext(UserContext)\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"layout-container\">\r\n                {(state) ? <LeftSideBar /> : null}\r\n\r\n                {(state) ? <RightSideBar /> : null}\r\n            </div>\r\n            <div className=\"settings-container\">\r\n\r\n                <div className=\"settings-link-container\">\r\n\r\n                    <Link to=\"/settings/change-name\" className=\"settings-link\">Change Name</Link>\r\n                    <Link to=\"/settings/change-password\" className=\"settings-link\">Change Password</Link>\r\n                    <Link to=\"/settings/delete-account\" className=\"settings-link\">Delete Account</Link>\r\n\r\n                </div>\r\n\r\n                <div className=\"settings-each-container\">\r\n\r\n                    <Switch>\r\n                        <Route path=\"/settings/change-password\" exact component={ChangePass} />\r\n                        <Route path=\"/settings/change-name\" exact component={ChangeName} />\r\n                        <Route path=\"/settings/delete-account\" exact component={DeleteAccount} />\r\n\r\n                    </Switch>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React, { useState } from 'react'\r\n\r\n\r\nconst ForgotPass = (props) => {\r\n    const [email, setEmail] = useState();\r\n    const [sucess  ,setSucess] = useState(false);\r\n    const [notFoundError ,setNotFoundError] = useState(false);\r\n\r\n    function forgotPassHandler() {\r\n        fetch(\"/auth/forgot-password\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                email\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error) {\r\n                    setNotFoundError(true)\r\n                }\r\n                else{\r\n                    setNotFoundError(false)\r\n                    setSucess(true)\r\n                }\r\n               \r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"forgot-password-container\">\r\n            <p className=\"forgot-password-container-heading\" > {sucess?null:\"Enter the E-mail address\" } </p>\r\n\r\n            {(!sucess)?<div className=\"forgot-password-input-button-container\">\r\n                <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => { setEmail(e.target.value) }} />\r\n                <button onClick={() => { forgotPassHandler() }}>Submit</button>\r\n            </div>\r\n              \r\n              :\r\n            \r\n            <div className=\"forgot-password-email-sent-container\">\r\n                <p >Email has been sent to the given email address for confirmation purposes. Please click on the link provided in the email to reset your password.</p>\r\n            </div>}\r\n\r\n            {(notFoundError)?\r\n            <p className=\"forgot-password-notfound-error\">No user found by this email !</p>\r\n             :null}\r\n\r\n            \r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPass\r\n","import React, { useState } from 'react'\r\nimport { useParams, useHistory } from \"react-router-dom\"\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst ResetPassword = () => {\r\n    const [newPass, setNewPass] = useState(\"\");\r\n    const [confirmNewPass, setConfirmNewPass] = useState(\"\");\r\n    const [passwordOk, setPassowrdOk] = useState(true);\r\n    const { resetToken } = useParams();\r\n    const {tokenExp , setTokenExp} = useState(false)\r\n   \r\n\r\n    const history = useHistory();\r\n\r\n    function passwordChecker(e) {\r\n        setNewPass(e.target.value)\r\n        const re = /(?=^.{6,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*/;\r\n\r\n        if (re.test(String(newPass))) {\r\n            setPassowrdOk(true)\r\n        }\r\n        else {\r\n            setPassowrdOk(false)\r\n        }\r\n\r\n    }\r\n\r\n    function resetPassHandler() {\r\n        fetch(\"/auth/reset-password\", {\r\n            method: \"put\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                resetToken,\r\n                newPass\r\n            })\r\n        }).then(res => {\r\n            res.json().then(data => {\r\n                if(data.error){\r\n                    notify2();\r\n                    setInterval(() => {\r\n                        history.push(\"/forgot-password\")\r\n                    }, 3000)\r\n                  \r\n                }\r\n                else{\r\n                    notify1()\r\n                setInterval(() => {\r\n                    history.push(\"/sign-in\")\r\n                }, 2000)\r\n            }\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const notify1 = () => toast.success('Password changed sucessfully', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n    const notify2 = () => toast.error('Token expired. Try Again', {\r\n        position: \"bottom-center\",\r\n        autoClose: 3000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    });\r\n\r\n    \r\n\r\n    return (<>\r\n        <ToastContainer/>     \r\n        <div className=\"reset-password-container\">\r\n            <p className=\"forgot-password-container-heading\" > {false ? null : \"Enter new password\"} </p>\r\n           \r\n            <div className=\"reset-password-newpass\">\r\n                <label>New Password : </label>\r\n                <input type=\"password\" value={newPass} onChange={(e) => { passwordChecker(e) }} />\r\n            </div>\r\n\r\n            <div className=\"reset-password-confirmpass\">\r\n                <label>Confirm Password : </label>\r\n                <input type=\"password\" value={confirmNewPass} onChange={(e) => { setConfirmNewPass(e.target.value) }} />\r\n            </div>\r\n\r\n            {(newPass !== confirmNewPass) ?\r\n                <div className=\"settings-error-container\">\r\n                    <p><li>new password and confirm password does not match</li></p>\r\n                </div> : null}\r\n\r\n\r\n            {(passwordOk) ? null :\r\n                <div className=\"settings-error-container\">\r\n                    <p><li>new Password must contain a digit, an uppercase letter, a lowercase letter, a character not being alphanumeric.</li></p>\r\n                </div>}\r\n\r\n            {(passwordOk) && (newPass === confirmNewPass) ? <button onClick={(e) => { resetPassHandler() }}>Submit</button> : <button >Submit</button>}\r\n          \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\nimport \"./FourOFourError.css\"\r\nimport { BiErrorCircle } from 'react-icons/bi'\r\n\r\n\r\nconst FourOFourError = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <div className=\"FOF-page\">\r\n            <div className=\"FOF-container\">\r\n                <h1>404</h1>\r\n                <div className=\"error-svg-container\">\r\n                    <BiErrorCircle />\r\n                </div>\r\n                <h3>Page not found </h3>\r\n                <button onClick={() => { history.goBack() }}>Go Back</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FourOFourError\r\n","import React from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\nimport \"./FourOFourError.css\"\r\nimport { BiErrorCircle } from 'react-icons/bi'\r\n\r\nconst FIVEOO = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <div className=\"FOF-page\">\r\n            <div className=\"FOF-container\">\r\n                <h1>500</h1>\r\n                <div className=\"error-svg-container\">\r\n                    <BiErrorCircle />\r\n                </div>\r\n                <h3>Server Error</h3>\r\n                <button onClick={()=>{history.goBack()}}>Go Back</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FIVEOO\r\n","import {useReducer} from \"react\";\r\n\r\nexport const initialState = null;\r\n\r\nexport function reducer (state , action){\r\n    if(action.type === \"USER\"){\r\n        return action.payload;\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n} ","import{ useEffect, useReducer, useContext } from \"react\";\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route, useHistory ,Redirect} from \"react-router-dom\"\nimport Home from \"./components/home/Home.js\"\nimport SignIn from \"./components/signIn/SignIn\"\nimport SignUp from \"./components/signUp/SignUp\"\nimport Profile from \"./components/profile/Profile\"\nimport OtherProfile from \"./components/otherProfile/OtherProfile\"\nimport ChangeProfilePic from \"./components/Change/ChangeProfilePic\"\nimport ChangeCoverPic from \"./components/Change/ChangeCoverPic\"\nimport Settings from \"./components/settings/Settings\"\nimport ForgotPass from \"./components/forgotPassword/ForgotPass\"\nimport ResetPassword from \"./components/forgotPassword/ResetPassword\"\nimport FourOFourError from \"./components/Errors/FourOFourError\"\nimport FIVEOO from \"./components/Errors/FIVEOO\"\n\nimport \"./components/navbar/Navbar.css\"\nimport \"./components/signIn/SignIn.css\"\nimport \"./components/signUp/SignUp.css\"\nimport \"./components/profile/Profile.css\"\nimport \"./components/home/Home.css\"\nimport \"./components/create-post/CreatePost.css\"\nimport \"./components/home/PostModal.css\"\nimport \"./components/ImageCrop/index.css\"\nimport \"./components/settings/Settings.css\"\nimport \"./components/rightSideBar/RightSideBar.css\"\nimport \"./components/leftSideBar/LeftSideBar.css\"\nimport \"./components/forgotPassword/ForgotResetPass.css\"\n\nimport \"./components/ImageCrop/components/cropper/cropper.css\"\nimport { reducer, initialState } from \"./reducers/UserReducer\"\nimport { UserContext } from \"./contexts/UserContext\"\nimport { useParams } from \"react-router-dom\"\n\n\n\n\nfunction Routing() {\n  const { userid } = useParams();\n  const {resetToken} = useParams();\n \n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n \n    if (user) {\n      dispatch({ type: \"USER\", payload: user })\n\n    }\n   \n    else {\n      if((!history.location.pathname.startsWith(\"/forgot-password\")) && (!history.location.pathname.startsWith(\"/reset-password\")) ){\n      history.push(\"/sign-in\")}\n    }\n  }, [])\n\n  return <div className=\"home-toggling-container\">\n\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/sign-in\" exact component={SignIn} />\n      <Route path=\"/sign-up\" exact component={SignUp} />\n      <Route path=\"/profile\" exact component={Profile} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/change-cover-picture\" component={ChangeCoverPic} />\n      <Route path=\"/forgot-password\" component={ForgotPass} />\n      <Route path=\"/change-profile-picture\" exact component={ChangeProfilePic} />\n      <Route path=\"/:userid\" exact component={OtherProfile} />\n      <Route path=\"/reset-password/:resetToken\" exact ><ResetPassword/> </Route>\n      <Route path=\"/ERROR500/sadfijsoaidfjosidjfoi34234242423sdfsdf\" component={FIVEOO} />\n      <Route path=\"/ERROR404/aoisdfhaisohdfoashfoasidfhasoidfhoasifh\" component={FourOFourError} />\n      <Route path=\"*\" render={() => <Redirect to='/ERROR404/aoisdfhaisohdfoashfoasidfhasoidfhoasifh' />} />\n\n\n    </Switch>\n\n\n  </div>\n}\n\nfunction App() {\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <>\n      <Router>\n\n        <UserContext.Provider value={{ state, dispatch }}>\n        <Routing />\n        </UserContext.Provider>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />,document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}